<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
  </head>
  <body>
    <h1>Nive's Simple Arithmetic Calculator</h1>
    <form>
      <label for="num1">Enter left operand:</label><br />
      <input type="text" id="num1" name="num1" required /><br /><br />

      <label for="num2">Enter right operand:</label><br />
      <input type="text" id="num2" name="num2" required /><br /><br />

      <label for="operation">Choose an arithmetic operation:</label><br />
      <select id="operation" name="operation" required>
        <option value="" disabled selected>Select from the list</option>
        <option value="add">Addition</option>
        <option value="sub">Subtraction</option>
        <option value="mul">Multiplication</option>
        <option value="div">Division</option></select
      ><br /><br />
      <input
        type="button"
        id="go"
        value="Calculate"
        onclick="myloadfunction()"
      />
    </form>
    <h1 id="answer"></h1>
    <script>
      const myloadfunction = () => {
        const num1 = document.getElementById("num1").value;
        const num2 = document.getElementById("num2").value;
        const operation = document.getElementById("operation").value;
        console.log("Left operand: " + num1);
        console.log("Right operand: " + num2);
        console.log("Operation: " + operation);

        if (num1 != "" && num2 != "" && operation != "") {
          var xhttp = new XMLHttpRequest();
          let url = `calcajax?num1=${num1}&num2=${num2}&operation=${operation}`;
          xhttp.open("GET", url, true);
          xhttp.send();

          xhttp.onreadystatechange = function () {
            if (xhttp.readyState == 4 && xhttp.status == 200) {
              document.getElementById("answer").innerHTML = xhttp.responseText;
              console.log(xhttp.responseText);
            }
          };
        } else {
          document.getElementById("res").innerHTML = "<h1>Provide Input!</h1>";
        }
      };
    </script>
  </body>
</html>
